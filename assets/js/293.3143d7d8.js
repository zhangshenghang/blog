(window.webpackJsonp=window.webpackJsonp||[]).push([[293],{771:function(s,a,e){"use strict";e.r(a);var n=e(20),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("[toc]")]),s._v(" "),e("h2",{attrs:{id:"拉取镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#拉取镜像"}},[s._v("#")]),s._v(" 拉取镜像")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull amancevice/superset\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查看拉取的镜像ID")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[root@bigdata ~]# docker images\nREPOSITORY            TAG                              IMAGE ID       CREATED        SIZE\namancevice/superset   latest                           080aab78f603   2 years ago    2.34GB\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("h3",{attrs:{id:"创建目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建目录"}},[s._v("#")]),s._v(" 创建目录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mkdir /opt/superset/ -p\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"运行superset容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行superset容器"}},[s._v("#")]),s._v(" 运行Superset容器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -d -p 8088:8088 -v /opt/superset:/home/superset amancevice/superset\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查看运行后ID")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('[root@bigdata ~]# docker ps \nCONTAINER ID   IMAGE                 COMMAND                  CREATED         STATUS                   PORTS                                       NAMES\n2aa4a3e53a3a   amancevice/superset   "gunicorn superset.a…"   4 minutes ago   Up 3 minutes (healthy)   0.0.0.0:8088->8088/tcp, :::8088->8088/tcp   pedantic_mclaren\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"设置用户名密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置用户名密码"}},[s._v("#")]),s._v(" 设置用户名密码")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -it 2aa4a3e53a3a flask fab create-admin --app superset\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("可能报错,原因是本地的Python是2.x版本，执行该命令需要python3.x版本")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('Username [admin]: docker exec -it 2aa4a3e53a3a flask fab create-admin --app superset\nUser first name [admin]: \nUser last name [user]: avris\nEmail [admin@fab.org]: \nPassword: \nRepeat for confirmation: \nTraceback (most recent call last):\n  File "/usr/local/bin/fabmanager", line 8, in <module>\n    sys.exit(cli())\n  File "/usr/local/lib/python3.8/site-packages/flask_appbuilder/console.py", line 422, in cli\n    cli_app()\n  File "/usr/local/lib/python3.8/site-packages/click/core.py", line 829, in __call__\n    return self.main(*args, **kwargs)\n  File "/usr/local/lib/python3.8/site-packages/click/core.py", line 782, in main\n    rv = self.invoke(ctx)\n  File "/usr/local/lib/python3.8/site-packages/click/core.py", line 1259, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n  File "/usr/local/lib/python3.8/site-packages/click/core.py", line 1066, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File "/usr/local/lib/python3.8/site-packages/click/core.py", line 610, in invoke\n    return callback(*args, **kwargs)\n  File "/usr/local/lib/python3.8/site-packages/flask_appbuilder/console.py", line 137, in create_admin\n    auth_type.get(_appbuilder.sm.auth_type, "No Auth method")\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("p",[s._v("解决方法进入容器创建用户名和密码，也可以将python2.x升级到3.x解决该问题")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("superset@2aa4a3e53a3a:~$ superset fab create-admin\nlogging was configured successfully\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("-01-03 05:51:26,162:INFO:superset.utils.logging_configurator:logging was configured successfully\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("-01-03 05:51:26,179:INFO:root:Configured event logger of "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("class "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'superset.utils.log.DBEventLogger'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n/usr/local/lib/python3.8/site-packages/flask_caching/__init__.py:201: UserWarning: Flask-Caching: CACHE_TYPE is "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to null, caching is effectively disabled.\n  warnings.warn"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nUsername "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("admin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": \nUser first name "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("admin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": \nUser last name "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": avris\nEmail "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("admin@fab.org"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": \nPassword: \nRepeat "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" confirmation: \nRecognized Database Authentications.\nAdmin User admin created.\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h3",{attrs:{id:"初始化数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初始化数据库"}},[s._v("#")]),s._v(" 初始化数据库")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 2aa4a3e53a3a superset db upgrade\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"服务初始化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务初始化"}},[s._v("#")]),s._v(" 服务初始化")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -it 2aa4a3e53a3a superset init\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"启动superset服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动superset服务"}},[s._v("#")]),s._v(" 启动superset服务")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -it 2aa4a3e53a3a flask run --with-threads --reload --debugger\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"访问服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问服务"}},[s._v("#")]),s._v(" 访问服务")]),s._v(" "),e("p",[e("code",[s._v("http://ip:8088/login/")])])])}),[],!1,null,null,null);a.default=t.exports}}]);