(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{531:function(s,a,t){"use strict";t.r(a);var n=t(20),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("[toc]")]),s._v(" "),t("h2",{attrs:{id:"官方说明文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#官方说明文档"}},[s._v("#")]),s._v(" 官方说明文档")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://ehang-io.github.io/nps/#/use",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://ehang-io.github.io/nps/#/use"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"下载服务端安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载服务端安装包"}},[s._v("#")]),s._v(" 下载服务端安装包")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("wget https://github.com/ehang-io/nps/releases/download/v0.26.10/linux_amd64_server.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("解压")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf linux_amd64_server.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"修改配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[s._v("#")]),s._v(" 修改配置文件")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim conf/nps.conf")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改为服务器公网IP")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101.43")]),s._v(".11.108\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# web页面登录账号")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_username")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("jast\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# web页面登录密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_password")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("AAbb\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# web页面端口")]),s._v("\nweb_port "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28080")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##bridge")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 客户端服务端连接方式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 客户端服务端连接端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28083")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_ip")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 域名代理HTTP端口（不用的话可以不修改）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy_ip")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy_port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28081")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_proxy_port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28082")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_just_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("p",[s._v("最终配置文件内容如下")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("appname")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("nps")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Boot mode(dev|pro)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("runmode")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("dev")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#HTTP(S) proxy port, no startup if empty")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http_proxy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("0.0.0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http_proxy_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("28081")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("https_proxy_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("28082")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("https_just_proxy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#default https certificate setting")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("https_default_cert_file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("conf/server.pem")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("https_default_key_file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("conf/server.key")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##bridge")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("bridge_type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("tcp")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("bridge_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("28083")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("bridge_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("0.0.0.0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Public password, which clients can use to connect to the server")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# After the connection, the server will be able to open relevant ports and parse related domain names according to its own configuration file.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("public_vkey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("123")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Traffic data persistence interval(minute)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Ignorance means no persistence")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#flow_store_interval=1")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# log level LevelEmergency->0  LevelAlert->1 LevelCritical->2 LevelError->3 LevelWarning->4 LevelNotice->5 LevelInformational->6 LevelDebug->7")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("log_level")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("7")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#log_path=nps.log")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Whether to restrict IP access, true or false or ignore")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip_limit=true")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#p2p")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#p2p_ip=127.0.0.1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#p2p_port=6000")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#web")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("101.43.11.108")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("adminn")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("user65#.com")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_port")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("28080")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("0.0.0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_base_url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_open_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_cert_file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("conf/server.pem")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("web_key_file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("conf/server.key")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if web under proxy use sub path. like http://host/nps need this.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#web_base_url=/nps")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Web API unauthenticated IP address(the len of auth_crypt_key must be 16)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Remove comments if needed")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#auth_key=test")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("auth_crypt_key")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("1234567812345678")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#allow_ports=9001-9009,10001,11000-12000")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Web management multi-user login")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_user_login")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_user_register")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_user_change_username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#extension")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_flow_limit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_rate_limit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_tunnel_num_limit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_local_proxy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_connection_num_limit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("allow_multi_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("system_info_display")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cache")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http_cache")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http_cache_length")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("100")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#get origin ip")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http_add_origin_header")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#pprof debug options")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#pprof_ip=0.0.0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#pprof_port=9999")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#client disconnect timeout")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("disconnect_timeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("60")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br")])]),t("h3",{attrs:{id:"安装nps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装nps"}},[s._v("#")]),s._v(" 安装NPS")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("./nps install\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("安装完成后nps会到系统变量中")]),s._v(" "),t("p",[s._v("安装后的配置文件"),t("code",[s._v("/etc/nps/conf/nps.conf")])]),s._v(" "),t("h3",{attrs:{id:"启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("./nps start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"服务端配置文件重载-目前支持功能不多"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务端配置文件重载-目前支持功能不多"}},[s._v("#")]),s._v(" 服务端配置文件重载（目前支持功能不多）")]),s._v(" "),t("p",[s._v("对于linux、darwin")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nps reload\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("对于windows")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" nps.exe reload\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("说明：")]),s._v(" 仅支持部分配置重载，例如"),t("code",[s._v("allow_user_login")]),s._v(" "),t("code",[s._v("auth_crypt_key")]),s._v(" "),t("code",[s._v("auth_key")]),s._v(" "),t("code",[s._v("web_username")]),s._v(" "),t("code",[s._v("web_password")]),s._v(" 等，未来将支持更多")]),s._v(" "),t("h3",{attrs:{id:"修改配置文件-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件-2"}},[s._v("#")]),s._v(" 修改配置文件")]),s._v(" "),t("p",[s._v("执行完成"),t("code",[s._v("./nps install")]),s._v("后，nps启动读取的配置文件为"),t("code",[s._v("/etc/nps/conf/nps.conf")])]),s._v(" "),t("p",[s._v("修改配置直接改这个")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/nps/conf/nps.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"服务端停止或重启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务端停止或重启"}},[s._v("#")]),s._v(" 服务端停止或重启")]),s._v(" "),t("p",[s._v("对于linux、darwin")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nps stop"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("对于windows")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" nps.exe stop"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"macos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#macos"}},[s._v("#")]),s._v(" MacOS")]),s._v(" "),t("h3",{attrs:{id:"下载客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载客户端"}},[s._v("#")]),s._v(" 下载客户端")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("https://github.com/ehang-io/nps/releases/download/v0.26.10/darwin_amd64_client.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"centos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[s._v("#")]),s._v(" CentOS")]),s._v(" "),t("h3",{attrs:{id:"下载客户端-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载客户端-2"}},[s._v("#")]),s._v(" 下载客户端")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("wget -b https://github.com/ehang-io/nps/releases/download/v0.26.10/linux_amd64_client.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("解压")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" tar -zxvf linux_amd64_client.tar.gz \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"无配置文件启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无配置文件启动"}},[s._v("#")]),s._v(" 无配置文件启动")]),s._v(" "),t("p",[s._v("./npc -server=47.98.183.51:50002 -vkey=yh3xa0z6c85s6szx")]),s._v(" "),t("h3",{attrs:{id:"配置文件启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件启动"}},[s._v("#")]),s._v(" 配置文件启动")]),s._v(" "),t("h4",{attrs:{id:"先在网站中创建客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#先在网站中创建客户端"}},[s._v("#")]),s._v(" 先在网站中创建客户端")]),s._v(" "),t("p",[s._v("这里可以自己设置，也可以全部使用默认")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/11/27/OI1FDzh9nRAQXbJ.png",alt:"image-20231117151000263"}})]),s._v(" "),t("p",[s._v("新增成功后在页面可以看到客户端列表")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/11/27/DdqF5p1t9uW4aZJ.png",alt:"image-20231117151037609"}})]),s._v(" "),t("p",[s._v("填写配置文件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[common]\n# 填写登录后首页显示的客户端连接端口\nserver_addr=185.56.25.xx:50002\nconn_type=tcp\n# vkey填写上面的验证密钥\nvkey=yh3xa0z6c85s6szx\n# 断线重连\nauto_reconnection=true\n\n[tcp]\nmode=tcp\ntarget_addr=127.0.0.1:8080\nserver_port=50005\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"启动-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-2"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./npc -config"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("conf/npc.conf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("2023/11/17 15:25:34.919 [I] [npc.go:231]  the version of client is 0.26.10, the core version of client is 0.26.0\n2023/11/17 15:25:34.919 [I] [control.go:97]  Loading configuration file conf/npc.conf successfully\n2023/11/17 15:25:35.140 [N] [control.go:174]  web access login username:user password:yh3xa0z6c85s6szx\n2023/11/17 15:25:35.275 [I] [client.go:72]  Successful connection with server 185.56.25.xx:50002\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"windows的ubuntu安装配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows的ubuntu安装配置"}},[s._v("#")]),s._v(" windows的ubuntu安装配置")]),s._v(" "),t("h3",{attrs:{id:"安装ssh服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装ssh服务"}},[s._v("#")]),s._v(" 安装SSH服务")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo apt-get update\nsudo apt-get install openssh-server\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("启动sshd服务")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo service ssh restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("设置允许ssh密码登录权限")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# vim /etc/ssh/sshd_config\n\nPasswordAuthentication yes\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("不设置会提示需要身份文件认证")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/Xk5U8sjtP9zONcA.png",alt:"image-20230918101715290"}})]),s._v(" "),t("h3",{attrs:{id:"客户端启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端启动"}},[s._v("#")]),s._v(" 客户端启动")]),s._v(" "),t("h4",{attrs:{id:"下载客户端-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载客户端-3"}},[s._v("#")]),s._v(" 下载客户端")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/ehang-io/nps/releases/download/v0.26.10/linux_amd64_client.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"无配置文件启动-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无配置文件启动-2"}},[s._v("#")]),s._v(" 无配置文件启动")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" ./npc -server=ip:port -vkey=web界面中显示的密钥\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" ./npc -server=101.43.11.108:28083 -vkey=112233\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("port取值："),t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/4yWIGOxbw2CSv1P.png",alt:"image-20230918101132652"}})]),s._v(" "),t("p",[s._v("vkey取值："),t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/uHIn7YMqvoxm4LG.png",alt:"image-20230918101204636"}})]),s._v(" "),t("p",[s._v("连接成功提示")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" ./npc -server=101.43.11.108:28083 -vkey=112233\n2023/09/18 20:13:10.872 [I] [npc.go:231]  the version of client is 0.26.10, the core version of client is 0.26.0\n2023/09/18 20:13:11.026 [I] [client.go:72]  Successful connection with server 101.43.11.108:28083\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("连接成功在页面会提示")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/u9OQMhUA6lEcSwP.png",alt:"image-20230918101404564"}})]),s._v(" "),t("h3",{attrs:{id:"配置ubuntu服务器连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置ubuntu服务器连接"}},[s._v("#")]),s._v(" 配置Ubuntu服务器连接")]),s._v(" "),t("p",[s._v("点击"),t("code",[s._v("TCP隧道")]),s._v("-> "),t("code",[s._v("新增")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/SnPEOkbLz6BgXH8.png",alt:"image-20230918102628356"}})]),s._v(" "),t("p",[s._v("填写信息")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/25Up9LzRrZTVWi1.png",alt:"image-20230918102942267"}})]),s._v(" "),t("p",[s._v("如：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/F7QGzbAp2WRYkBq.png",alt:"image-20230918102956536"}})]),s._v(" "),t("p",[s._v("保存后在"),t("code",[s._v("TCP隧道")]),s._v("页面可以看到状态，")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/bvWXpkYJCqF4wjy.png",alt:"image-20230918103017677"}})]),s._v(" "),t("p",[s._v("此时通过服务端的IP+刚刚设置的28084端口，即可通过ssh连接服务器")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/IwNTqUsiy6xdfeD.png",alt:"image-20230918103730298"}})]),s._v(" "),t("p",[s._v("账号密码，就是我们设置的Ubuntu账号密码，不是Windows的账号密码")]),s._v(" "),t("h2",{attrs:{id:"配置windows"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置windows"}},[s._v("#")]),s._v(" 配置Windows")]),s._v(" "),t("h3",{attrs:{id:"下载windows客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载windows客户端"}},[s._v("#")]),s._v(" 下载Windows客户端")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/ehang-io/nps/releases/download/v0.26.10/windows_amd64_client.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/ehang-io/nps/releases/download/v0.26.10/windows_amd64_client.tar.gz"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"新建客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新建客户端"}},[s._v("#")]),s._v(" 新建客户端")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/E5byum4fzlOgKei.png",alt:"image-20230918143844276"}})]),s._v(" "),t("p",[s._v("填写"),t("code",[s._v("唯一验证密钥")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/5XSazkwUgWYxf8F.png",alt:"image-20230918143938877"}})]),s._v(" "),t("p",[t("code",[s._v("TCP隧道配置")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/IMKPE5JrRyabzCv.png",alt:"image-20230918112044103"}})]),s._v(" "),t("p",[s._v("配置TCP隧道模式")]),s._v(" "),t("p",[t("code",[s._v("npc.conf")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[common]\nserver_addr=101.43.11.108:28083\nconn_type=tcp\nvkey=puiskdnf!ofa2\nauto_reconnection=true\nmax_conn=1000\ncrypt=false\ncompress=false\ndisconnect_timeout=60\n\n\n[tcp]\nmode=tcp\ntarget_addr=3389\nserver_port=28085\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("直接双击"),t("code",[s._v("npc.exe")]),s._v("会自动读取"),t("code",[s._v("conf/npc.conf")]),s._v("配置文件")]),s._v(" "),t("p",[s._v("windows启动配置")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("./npc.exe -server=101.43.11.108:28083 -vkey=puiskdnf!ofa2 -config=C:\\Users\\Admin\\Desktop\\windows_amd64_client\\conf\\npc.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("通过远程连接连接Windows服务器即可")]),s._v(" "),t("h3",{attrs:{id:"配置windows开机自动启动远程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置windows开机自动启动远程"}},[s._v("#")]),s._v(" 配置Windows开机自动启动远程")]),s._v(" "),t("p",[s._v("创建启动脚本"),t("code",[s._v("start-npc.bat")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('# 这一段是后台运行的命令\n@echo off\nif "%1" == "h" goto begin\nmshta vbscript:createobject("wscript.shell").run("%~nx0 h",0)(window.close)&&exit\n:begin\n\n# 这一段是启动\ncd C:\\Users\\Admin\\Desktop\\windows_amd64_client\n.\\npc.exe -server=101.43.11.108:28083 -vkey=puiskdnf!ofa2 -config=C:\\Users\\Admin\\Desktop\\windows_amd64_client\\conf\\npc.conf\npause\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("blockquote",[t("p",[s._v("主要两个步骤：")]),s._v(" "),t("ol",[t("li",[s._v("进入npc目录")]),s._v(" "),t("li",[s._v("启动npc.exe并制定配置文件路径")])])]),s._v(" "),t("p",[s._v("在电脑"),t("code",[s._v("运行")]),s._v("中输入"),t("code",[s._v("shell:startup")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/6aYto5JySTlxIE9.png",alt:"image-20230918154723262"}})]),s._v(" "),t("p",[s._v("自动打开这个目录")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/10/08/efPW3LUcutMq9Vy.png",alt:"image-20230918154446610"}})]),s._v(" "),t("p",[s._v("将"),t("code",[s._v("start-npc.bat")]),s._v("文件或者"),t("code",[s._v("start-npc.bat")]),s._v("文件的快捷方式，拖入这个目录下，就完成了开机自动启动配置。")])])}),[],!1,null,null,null);a.default=e.exports}}]);