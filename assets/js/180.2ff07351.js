(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{658:function(s,a,t){"use strict";t.r(a);var e=t(20),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("[toc]")]),s._v(" "),t("h2",{attrs:{id:"命名空间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命名空间"}},[s._v("#")]),s._v(" 命名空间")]),s._v(" "),t("h3",{attrs:{id:"查看指定命名空间表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看指定命名空间表"}},[s._v("#")]),s._v(" 查看指定命名空间表")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("list_namespace_tables "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hbase'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"创建namespace"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建namespace"}},[s._v("#")]),s._v(" 创建namespace")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("create_namespace 'test'  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"删除namespace"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除namespace"}},[s._v("#")]),s._v(" 删除namespace")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("drop_namespace "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v("  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"查看namespace"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看namespace"}},[s._v("#")]),s._v(" 查看namespace")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("describe_namespace "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hbase'")]),s._v("  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"列出所有namespace"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#列出所有namespace"}},[s._v("#")]),s._v(" 列出所有namespace")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("list_namespace\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"在namespace下创建表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在namespace下创建表"}},[s._v("#")]),s._v(" 在namespace下创建表")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("create "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ai_ns:testtable'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fm1'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"基础命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础命令"}},[s._v("#")]),s._v(" 基础命令")]),s._v(" "),t("h3",{attrs:{id:"查看表结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看表结构"}},[s._v("#")]),s._v(" 查看表结构")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("desc "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tableName'")]),s._v("\ndescribe "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tableName'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"设置ttl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置ttl"}},[s._v("#")]),s._v(" 设置TTL")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法：alter 't1', {NAME => 'f1'}, {NAME => 'f2', METHOD => 'delete'}")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 例如：修改表test1的cf的TTL为180天")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TTL 单位为秒")]),s._v("\ndisable "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test1'")]),s._v("\nalter "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test1'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'body'")]),s._v(",TTL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'15552000'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'meta'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'15552000'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test1'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"put添加数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#put添加数据"}},[s._v("#")]),s._v(" PUT添加数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("put 表名 ，rowkey，列名（列族：列名），value\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"删除表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除表"}},[s._v("#")]),s._v(" 删除表")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("disable "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t1'")]),s._v("\ndrop "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t1'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"删除列簇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除列簇"}},[s._v("#")]),s._v(" 删除列簇")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("disable "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'table1'")]),s._v("\nalter "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'table1'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tab1_add'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("METHOD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'delete'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'table1'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"删除整行数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除整行数据"}},[s._v("#")]),s._v(" 删除整行数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("deleteall "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tableName'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'RowKey'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"删除一行数据中的某一列"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除一行数据中的某一列"}},[s._v("#")]),s._v(" 删除一行数据中的某一列")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("delete "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tableName'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'RowKey'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ColumnFamily:ColumnName'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"在已创建的表添加列簇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在已创建的表添加列簇"}},[s._v("#")]),s._v(" 在已创建的表添加列簇")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("alter "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tablename'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"清空数据-并清除分区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清空数据-并清除分区"}},[s._v("#")]),s._v(" 清空数据，并清除分区")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("truncate")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tableName'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"仅清空数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#仅清空数据"}},[s._v("#")]),s._v(" 仅清空数据")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("truncate_preserve "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tableName'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"统计表数据总量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#统计表数据总量"}},[s._v("#")]),s._v(" 统计表数据总量")]),s._v(" "),t("h4",{attrs:{id:"mr方式统计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mr方式统计"}},[s._v("#")]),s._v(" MR方式统计")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HBASE_HOME")]),s._v("/bin/hbase   org.apache.hadoop.hbase.mapreduce.RowCounter tablename'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"hbaseshell方式统计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hbaseshell方式统计"}},[s._v("#")]),s._v(" HbaseShell方式统计")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("count "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'table'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("INTERVAL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("NUM,CACHE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("INTERVAL 每次间隔多少显示一次")]),s._v(" "),t("li",[s._v("CACHE 后台匹配每次统计多少，这个会实际影响统计速度，可以适当提升")])]),s._v(" "),t("h2",{attrs:{id:"创建表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建表"}},[s._v("#")]),s._v(" 创建表")]),s._v(" "),t("h3",{attrs:{id:"创建表-并指定压缩格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建表-并指定压缩格式"}},[s._v("#")]),s._v(" 创建表，并指定压缩格式")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("create "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ns:vt_date'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NAME "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VERSIONS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",COMPRESSION"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'snappy'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"参数详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数详解"}},[s._v("#")]),s._v(" 参数详解")]),s._v(" "),t("h4",{attrs:{id:"数据删除是否物理删除-keep-deleted-cells"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据删除是否物理删除-keep-deleted-cells"}},[s._v("#")]),s._v(" 数据删除是否物理删除 KEEP_DELETED_CELLS")]),s._v(" "),t("p",[s._v("KEEP_DELETED_CELLS 的作用就是在major compaction发生的时候，决定要不要清理旧数据。这里需要注意一点，即便 KEEP_DELETED_CELLS 设置为True，数据仍然会因为过期而被清理（HBsae表中的TTL属性）。")]),s._v(" "),t("p",[s._v("创建表是添加参数:")]),s._v(" "),t("p",[s._v("修改表参数：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("alter 'test110' , {NAME=>'fn',KEEP_DELETED_CELLS=> TRUE}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看表结构：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":008:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" desc "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test110'")]),s._v("\nTable test110 is ENABLED                                                                                                                 \ntest110                                                                                                                                  \nCOLUMN FAMILIES DESCRIPTION                                                                                                              \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NAME "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn'")]),s._v(", VERSIONS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10'")]),s._v(", EVICT_BLOCKS_ON_CLOSE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'false'")]),s._v(", NEW_VERSION_BEHAVIOR "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'false'")]),s._v(", KEEP_DELETED_CELLS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'TRUE'")]),s._v(", CACHE_D\nATA_ON_WRITE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'false'")]),s._v(", DATA_BLOCK_ENCODING "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NONE'")]),s._v(", TTL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'FOREVER'")]),s._v(", MIN_VERSIONS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0'")]),s._v(", REPLICATION_SCOPE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0'")]),s._v(", BLOOMFILTER "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\nROW'")]),s._v(", CACHE_INDEX_ON_WRITE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'false'")]),s._v(", IN_MEMORY "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'false'")]),s._v(", CACHE_BLOOMS_ON_WRITE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'false'")]),s._v(", PREFETCH_BLOCKS_ON_OPEN "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'false'")]),s._v(", COMPRE\nSSION "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'GZ'")]),s._v(", BLOCKCACHE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'true'")]),s._v(", BLOCKSIZE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'65536'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("                                                                               \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" row"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("添加测试数据：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("put "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test110'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn:a'")]),s._v(",1\nput "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test110'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn:b'")]),s._v(",1\nput "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test110'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn:a'")]),s._v(",1\nput "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test110'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn:b'")]),s._v(",1\ndelete "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test110'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn:a'")]),s._v("\ndelete "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test110'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn:a'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看删除的数据，")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":022:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test110'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("RAW"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("TRUE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nROW                                 COLUMN+CELL                                                                                          \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                                  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("column")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("fn:a, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673332138815")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Delete                                                    \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                                  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("column")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("fn:a, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673332138815")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                                                                                                            \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                                  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("column")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("fn:b, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673332138955")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                                                        \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                                  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("column")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("fn:a, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673332139075")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Delete                                                    \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                                  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("column")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("fn:a, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673332139075")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                                                        \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                                  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("column")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("fn:b, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673332139899")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   \n \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h4",{attrs:{id:"replication-scope-复制范围"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#replication-scope-复制范围"}},[s._v("#")]),s._v(" REPLICATION_SCOPE 复制范围")]),s._v(" "),t("p",[s._v("HBase提供了跨级群同步的功能，本地集群的数据更新可以及时同步到其他集群。复制范围（replication scope）的参数默认为0，表示复制功能处于关闭状态。")]),s._v(" "),t("h2",{attrs:{id:"查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询"}},[s._v("#")]),s._v(" 查询")]),s._v(" "),t("h3",{attrs:{id:"根据timestamp范围查询数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据timestamp范围查询数据"}},[s._v("#")]),s._v(" 根据timestamp范围查询数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 说明")]),s._v("\nscan tableName,"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TIMERANGE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("starttime,endtime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",LIMIT"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 样例")]),s._v("\nscan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ns:vt'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TIMERANGE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1506700800000,1608479686000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",LIMIT"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"raw参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#raw参数"}},[s._v("#")]),s._v(" RAW参数")]),s._v(" "),t("p",[s._v("开启Raw模式会返回包括已添加删除标记但是未实际删除的数据。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("scan 'test110',{RAW=>TRUE}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"hbase-shell-返回中文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hbase-shell-返回中文"}},[s._v("#")]),s._v(" Hbase Shell 返回中文")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":050:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">>")]),s._v(" get "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t1'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'r1'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c1:toString'")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":051:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("FORMATTER "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'toString'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":052:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("FORMATTER "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'toString'")]),s._v(",LIMIT"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",COLUMN"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c4'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":053:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("FORMATTER_CLASS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.apache.hadoop.hbase.util.Bytes'")]),s._v(", FORMATTER "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'toString'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":054:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("FORMATTER_CLASS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.apache.hadoop.hbase.util.Bytes'")]),s._v(", FORMATTER "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'toString'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("COLUMN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c4'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":004:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("COLUMNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c1:toString'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c2:toString'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":003:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("COLUMNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c1:c(org.apache.hadoop.hbase.util.Bytes).toString'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c3:c(org.apache.hadoop.hbase.util.Bytes).toString'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":055:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("COLUMNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c1:toString'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c4:c(org.apache.hadoop.hbase.util.Bytes).toString'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":058:"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" get "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'row-2'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f:c2:toString'")]),s._v("\n对于Int型、Long型数值，支持toInt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("toLong语法。不常用的语法这里就不再论述了。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"查看hbase-meta表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看hbase-meta表"}},[s._v("#")]),s._v(" 查看Hbase Meta表")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hbase:meta'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"查询某个表某个列的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询某个表某个列的数据"}},[s._v("#")]),s._v(" 查询某个表某个列的数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("scan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tableName'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("COLUMN"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("列族：列,LIMIT"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("需要查看条数"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"查询多版本数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询多版本数据"}},[s._v("#")]),s._v(" 查询多版本数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("get "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test06262'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'woshikey1'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("COLUMN"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'f2'")]),s._v(",VERSION"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nscan "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user_label'")]),s._v(",VERSIONS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"移动region"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移动region"}},[s._v("#")]),s._v(" 移动Region")]),s._v(" "),t("h3",{attrs:{id:"手动移动region"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动移动region"}},[s._v("#")]),s._v(" 手动移动Region")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"move '9c5c9e1aa5f88739224e17dfd7602bb1','shxcb99.zh,16020,1513325294105\"")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" hbase shell\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/03/10/4BcSUXDKYT3kG6h.png",alt:"image-20230222171303985"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/03/10/i2GBthTLE5vrDpz.png",alt:"image-20230222171311128"}})]),s._v(" "),t("p",[s._v("参考：http://blog.csdn.net/knowledgeaaa/article/details/72844026")]),s._v(" "),t("h2",{attrs:{id:"手动split-region"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动split-region"}},[s._v("#")]),s._v(" 手动Split Region")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法：split 'regionName', 'splitKey'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"手动出发major-compaction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动出发major-compaction"}},[s._v("#")]),s._v(" 手动出发Major Compaction")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#语法：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Compact all regions in a table:")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" major_compact "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t1'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Compact an entire region:")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" major_compact "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'r1'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Compact a single column family within a region:")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" major_compact "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'r1'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c1'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Compact a single column family within a table:")]),s._v("\nhbase"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" major_compact "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t1'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c1'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"强制删除hbase表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#强制删除hbase表"}},[s._v("#")]),s._v(" 强制删除Hbase表")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".删除zk中的数据"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("在装有zk的节点上执行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n    zookeeper-client -server localhost:2181'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: localhost:2181"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rmr /hbase/table/hbase_tablename"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n2.删除HDFS上的数据'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - hdfs"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n    hdfs dfs fs -rmr /hbase/data/default/hbase_tablename'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".删除meta表信息，在meta表查询"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n  3.1使用hbase shell筛选rowkey'")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"scan 'hbase:meta'\"")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" hbase shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" hbase_tablename "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'column'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $1}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uniq")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n  3.2删除meta表中3.1的rowkey'")]),s._v("\n   delete "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hbase:meta'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rowkey'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'info:sn'")]),s._v("'\n   delete "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hbase:meta'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rowkey'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'info:name'")]),s._v("'\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".重启Hbase（可选操作）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);