(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{665:function(a,e,s){"use strict";s.r(e);var t=s(20),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"日志提示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日志提示"}},[a._v("#")]),a._v(" 日志提示")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("2023-05-05 10:06:42,405 WARN\n[master/10.86.50.41:6000:becomeActiveMaster] master.HMaster: hbase:namespace,,1669103313792.ac7fb2074323dd2229d3ada8679fa2ca. is NOT online; state={ac7fb2074323dd2229d3ada8679fa2ca state=ABNORMALLY_CLOSED, ts=1683250959232, server=10.86.50.32,6002,1682734383704}; ServerCrashProcedures=false. Master startup cannot progress, in holding-pattern until region onlined.\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[a._v("#")]),a._v(" 分析")]),a._v(" "),s("p",[a._v("namespace若处于rit状态，master无法启动")]),a._v(" "),s("h3",{attrs:{id:"修复思路"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修复思路"}},[a._v("#")]),a._v(" 修复思路")]),a._v(" "),s("ul",[s("li",[a._v("hbase:meta中删除hbase:namespace内容")]),a._v(" "),s("li",[a._v("hdfs上/hbase/data/hbase/namespace移除下，切换master")]),a._v(" "),s("li",[a._v("namespace表会重建，master正常，，然后将namespace数据导入")])]),a._v(" "),s("h2",{attrs:{id:"解决方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[a._v("#")]),a._v(" 解决方法")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("scan 'hbase:meta',{LIMIT =>10}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("卡死或者报错，证明meta不在线\n修复方式\n1.滚动重启master和所有regionserver，确认是否上线\n2.若第一步还未上线\n暂停master和所有rs\nhdfs dfs -mv /hbase/data/hbase/meta /tmp\nhbase zkcli\nrmr /hbase-emr-xxx/table/hbase:meta\n启动所有rs和master\nhbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles /tmp/meta/1588230740 hbase:meta")])])}),[],!1,null,null,null);e.default=r.exports}}]);